{"ast":null,"code":"import{useState,useContext}from\"react\";import{Link,useLocation}from\"react-router-dom\";import{AuthContext}from\"../Context/AuthContext\";import{LayoutDashboard,Users,FileText,Contact,LogOut,BarChart2}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=()=>{const{user,logout}=useContext(AuthContext);const location=useLocation();const[collapsed,setCollapsed]=useState(false);// Navigation items for both user and admin\nconst navItems=[{name:\"Dashboard\",path:(user===null||user===void 0?void 0:user.role)===\"admin\"?\"/admin\":\"/user\",icon:/*#__PURE__*/_jsx(LayoutDashboard,{size:20}),roles:[\"admin\",\"user\"]},{name:\"Customers\",path:\"/customers\",icon:/*#__PURE__*/_jsx(Users,{size:20}),roles:[\"admin\",\"user\"]},{name:\"Invoices\",path:\"/invoices\",icon:/*#__PURE__*/_jsx(FileText,{size:20}),roles:[\"admin\",\"user\"]},{name:\"Leads\",path:\"/leads\",icon:/*#__PURE__*/_jsx(Contact,{size:20}),roles:[\"admin\",\"user\"]},// Admin only items\n{name:\"Users\",path:\"/admin/users\",icon:/*#__PURE__*/_jsx(Users,{size:20}),roles:[\"admin\"]},{name:\"Reports\",path:\"/admin/reports\",icon:/*#__PURE__*/_jsx(BarChart2,{size:20}),roles:[\"admin\"]}];return/*#__PURE__*/_jsxs(\"aside\",{className:\"bg-gray-900 text-gray-100 h-screen flex flex-col transition-all duration-300 \".concat(collapsed?\"w-20\":\"w-64\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-gray-700\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold transition-all duration-300 \".concat(collapsed?\"hidden\":\"block\"),children:\"Flow-CRM\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCollapsed(!collapsed),className:\"text-gray-400\",children:collapsed?\"→\":\"←\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 p-4 flex flex-col gap-2\",children:navItems.filter(item=>item.roles.includes(user===null||user===void 0?void 0:user.role)).map(item=>{const active=location.pathname===item.path;return/*#__PURE__*/_jsxs(Link,{to:item.path,className:\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition \".concat(active?\"bg-gray-800 font-semibold\":\"\"),children:[item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"transition-all duration-300 \".concat(collapsed?\"hidden\":\"block\"),children:item.name})]},item.name);})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-gray-700\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:logout,className:\"flex items-center gap-3 px-4 py-2 w-full rounded-lg hover:bg-gray-800 transition text-red-500\",children:[/*#__PURE__*/_jsx(LogOut,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(collapsed?\"hidden\":\"block\"),children:\"Logout\"})]})})]});};export default Sidebar;","map":{"version":3,"names":["useState","useContext","Link","useLocation","AuthContext","LayoutDashboard","Users","FileText","Contact","LogOut","BarChart2","jsx","_jsx","jsxs","_jsxs","Sidebar","user","logout","location","collapsed","setCollapsed","navItems","name","path","role","icon","size","roles","className","concat","children","onClick","filter","item","includes","map","active","pathname","to"],"sources":["C:/Users/AK/OneDrive/Attachments/Desktop/CRM/flow-crm/frontend/src/Components/Sidebar.jsx"],"sourcesContent":["import { useState, useContext } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { AuthContext } from \"../Context/AuthContext\";\r\nimport { LayoutDashboard, Users, FileText, Contact, LogOut, BarChart2} from \"lucide-react\";\r\n\r\nconst Sidebar = () => {\r\n  const { user, logout } = useContext(AuthContext);\r\n  const location = useLocation();\r\n  const [collapsed, setCollapsed] = useState(false);\r\n\r\n  // Navigation items for both user and admin\r\n  const navItems = [\r\n    { name: \"Dashboard\", path: user?.role === \"admin\" ? \"/admin\" : \"/user\", icon: <LayoutDashboard size={20} />, roles: [\"admin\", \"user\"] },\r\n    { name: \"Customers\", path: \"/customers\", icon: <Users size={20} />, roles: [\"admin\", \"user\"] },\r\n    { name: \"Invoices\", path: \"/invoices\", icon: <FileText size={20} />, roles: [\"admin\", \"user\"] },\r\n    { name: \"Leads\", path: \"/leads\", icon: <Contact size={20} />, roles: [\"admin\", \"user\"] },\r\n    // Admin only items\r\n    { name: \"Users\", path: \"/admin/users\", icon: <Users size={20} />, roles: [\"admin\"] },\r\n    { name: \"Reports\", path: \"/admin/reports\", icon: <BarChart2 size={20} />, roles: [\"admin\"] },\r\n  ];\r\n\r\n  return (\r\n    <aside\r\n      className={`bg-gray-900 text-gray-100 h-screen flex flex-col transition-all duration-300 ${\r\n        collapsed ? \"w-20\" : \"w-64\"\r\n      }`}\r\n    >\r\n      {/* Brand + Collapse Button */}\r\n      <div className=\"flex items-center justify-between p-6 border-b border-gray-700\">\r\n        <span className={`text-xl font-bold transition-all duration-300 ${collapsed ? \"hidden\" : \"block\"}`}>\r\n          Flow-CRM\r\n        </span>\r\n        <button onClick={() => setCollapsed(!collapsed)} className=\"text-gray-400\">\r\n          {collapsed ? \"→\" : \"←\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Navigation Links */}\r\n      <nav className=\"flex-1 p-4 flex flex-col gap-2\">\r\n        {navItems\r\n          .filter(item => item.roles.includes(user?.role))\r\n          .map(item => {\r\n            const active = location.pathname === item.path;\r\n            return (\r\n              <Link\r\n                key={item.name}\r\n                to={item.path}\r\n                className={`flex items-center gap-3 p-3 rounded-lg hover:bg-gray-800 transition ${\r\n                  active ? \"bg-gray-800 font-semibold\" : \"\"\r\n                }`}\r\n              >\r\n                {item.icon}\r\n                <span className={`transition-all duration-300 ${collapsed ? \"hidden\" : \"block\"}`}>\r\n                  {item.name}\r\n                </span>\r\n              </Link>\r\n            );\r\n          })}\r\n      </nav>\r\n\r\n      {/* Logout */}\r\n      <div className=\"p-4 border-t border-gray-700\">\r\n        <button\r\n          onClick={logout}\r\n          className=\"flex items-center gap-3 px-4 py-2 w-full rounded-lg hover:bg-gray-800 transition text-red-500\"\r\n        >\r\n          <LogOut size={20} />\r\n          <span className={`${collapsed ? \"hidden\" : \"block\"}`}>Logout</span>\r\n        </button>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}