{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\AK\\\\OneDrive\\\\Attachments\\\\Desktop\\\\CRM\\\\flow-crm\\\\frontend\\\\src\\\\Pages\\\\EditCustomer.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport api from \"../api\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditCustomer = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [form, setform] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    company: \"\"\n  });\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const res = await api.get(`/customers/${id}`);\n        const c = res.data;\n        setform({\n          name: c.name || \"\",\n          email: c.email || \"\",\n          phone: c.phone || \"\",\n          company: c.company\n        });\n      } catch (err) {\n        var _err$response;\n        console.error(\"Load Customer error\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n        alert(\"Could not Load the Customers\");\n        navigate(\"/customers\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [id, navigate]);\n  const handleChange = e => {\n    setform({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await api.put(`customers/${id}`, form);\n      alert(\"Customer Successfully Updated :)\");\n      navigate(\"/customers\");\n    } catch (err) {\n      var _err$response2;\n      console.error(\"Update error\", ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message);\n      alert(\"Update Failed\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading.....\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow w-96 mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: \"Edit Customers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"name\",\n        value: form.name,\n        placeholder: \"Name\",\n        onChange: handleChange,\n        className: \"w-full p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        value: form.email,\n        placeholder: \"Email\",\n        onChange: handleChange,\n        className: \"w-full p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"phone\",\n        value: form.phone,\n        placeholder: \"Phone\",\n        onChange: handleChange,\n        className: \"w-full p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"company\",\n        value: form.company,\n        placeholder: \"Company\",\n        onChange: handleChange,\n        className: \"w-full p-2 border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-green-500 text-white p-2 rounded\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(EditCustomer, \"j5fUHMZG/T71HdPrLBzm1vuQUJk=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditCustomer;\nexport default EditCustomer;\nvar _c;\n$RefreshReg$(_c, \"EditCustomer\");","map":{"version":3,"names":["useEffect","useState","useNavigate","api","useParams","jsxDEV","_jsxDEV","EditCustomer","_s","id","navigate","form","setform","name","email","phone","company","loading","setLoading","load","res","get","c","data","err","_err$response","console","error","response","message","alert","handleChange","e","target","value","handleSubmit","preventDefault","put","_err$response2","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","placeholder","onChange","type","_c","$RefreshReg$"],"sources":["C:/Users/AK/OneDrive/Attachments/Desktop/CRM/flow-crm/frontend/src/Pages/EditCustomer.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport api from \"../api\"\r\nimport { useParams } from \"react-router-dom\"\r\n\r\nconst EditCustomer = ()=>{\r\n\r\n    const {id} = useParams()\r\n    const navigate = useNavigate()\r\n\r\n    const [form, setform] =  useState({name: \"\", email: \"\", phone: \"\", company: \"\"})\r\n    const[loading, setLoading] = useState(true)\r\n\r\n    useEffect(()=>{\r\n        const load = async () =>{\r\n            try{\r\n                const res = await api.get(`/customers/${id}`)\r\n                const c = res.data\r\n\r\n                setform({name : c.name || \"\", email : c.email || \"\", phone : c.phone || \"\", company : c.company })\r\n            }catch(err){\r\n                console.error(\"Load Customer error\", err.response?.data || err.message)\r\n                alert(\"Could not Load the Customers\")\r\n                navigate(\"/customers\")\r\n            }finally{\r\n                setLoading(false)\r\n            }\r\n        }\r\n        load()\r\n    }, [id, navigate])\r\n\r\n    const handleChange = (e)=>{\r\n        setform({\r\n            ...form, [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault()\r\n        try{\r\n            await api.put(`customers/${id}`, form)\r\n            alert(\"Customer Successfully Updated :)\")\r\n            navigate(\"/customers\")\r\n        }catch(err){\r\n            console.error(\"Update error\", err.response?.data || err.message)\r\n            alert(\"Update Failed\")\r\n        }\r\n    }\r\n\r\n    if(loading) return <p>Loading.....</p>\r\n\r\n    return(\r\n        <div className=\"bg-white p-6 rounded-lg shadow w-96 mx-auto\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Edit Customers</h2>\r\n            <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n                <input name=\"name\" value={form.name} placeholder=\"Name\" onChange={handleChange} className=\"w-full p-2 border rounded\" />\r\n                <input name=\"email\" value={form.email} placeholder=\"Email\" onChange={handleChange} className=\"w-full p-2 border rounded\" />\r\n                <input name=\"phone\" value={form.phone} placeholder=\"Phone\" onChange={handleChange} className=\"w-full p-2 border rounded\" />\r\n                <input name=\"company\" value={form.company} placeholder=\"Company\" onChange={handleChange} className=\"w-full p-2 border rounded\" />\r\n                <button type=\"submit\" className=\"w-full bg-green-500 text-white p-2 rounded\">Save</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}   \r\nexport default EditCustomer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}